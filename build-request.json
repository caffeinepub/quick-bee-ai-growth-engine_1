{
  "kind": "build_request",
  "title": "Add Social Media Management Suite (Scheduler, Content Calendar, Metrics Dashboard, Webhook Receiver)",
  "projectName": "Quick Bee AI Growth Engine",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a backend data model and CRUD operations for social media post ideas, including fields: id, title, caption, platform (Instagram, Facebook, Twitter/X, LinkedIn, TikTok, YouTube, Other), status (Idea, Draft, Scheduled, Published, Cancelled), scheduledDate (optional), tags (array of strings), notes, createdAt, and updatedAt timestamps.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A scheduler/task manager that tracks social media post ideas and schedules"
        ]
      },
      "acceptanceCriteria": [
        "Backend actor exposes createPost, getPost, getAllPosts, updatePost, deletePost functions",
        "Posts are stored in a stable in-memory map with auto-incrementing IDs",
        "Status field enforces the defined enum values",
        "Platform field supports all listed platforms"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Create a Social Media Scheduler page (route: /social-scheduler) that allows users to create, view, edit, and delete social media post ideas. Include a list/grid toggle, filter by platform and status, and a modal form for adding/editing posts with all fields defined in REQ-1.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A scheduler/task manager that tracks social media post ideas and schedules"
        ]
      },
      "acceptanceCriteria": [
        "Page is accessible via /social-scheduler route",
        "Users can create new post ideas via a modal form",
        "Users can edit and delete existing posts",
        "Posts can be filtered by platform and status",
        "List and grid view modes are available",
        "Scheduled date/time picker is available in the form"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Create a Content Calendar page (route: /content-calendar) that displays scheduled and planned posts in a monthly calendar grid view. Each calendar day cell shows post entries with colored badges per platform. Clicking a post opens its detail/edit modal. Include a month navigation control and a legend for platform colors.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A content calendar to plan and organize posts across platforms"
        ]
      },
      "acceptanceCriteria": [
        "Page is accessible via /content-calendar route",
        "Monthly calendar grid renders correctly with day cells",
        "Posts with a scheduledDate appear on their corresponding calendar day",
        "Each platform has a distinct color badge",
        "Previous/next month navigation works",
        "Clicking a post entry opens the edit modal",
        "Empty days show a clickable '+' to create a new post for that date"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Create a backend data model and CRUD operations for manually logged social media metrics. Each metric entry should include: id, platform, date, followers, impressions, reach, engagements, clicks, postsPublished, notes, and createdAt timestamp.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A data aggregation dashboard where you manually log metrics from each platform"
        ]
      },
      "acceptanceCriteria": [
        "Backend actor exposes createMetric, getAllMetrics, updateMetric, deleteMetric functions",
        "Metrics are stored in a stable in-memory map with auto-incrementing IDs",
        "All numeric fields are stored as integers or floats as appropriate"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Create a Social Media Metrics Dashboard page (route: /social-metrics) where users can manually log platform metrics per day. Display aggregated totals and per-platform comparison charts (bar/line using Recharts). Include a log entry form modal and a table of all logged entries with edit/delete actions. Add platform filter and date range filter.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A data aggregation dashboard where you manually log metrics from each platform"
        ]
      },
      "acceptanceCriteria": [
        "Page is accessible via /social-metrics route",
        "Users can log new metric entries via a modal form",
        "Users can edit and delete existing entries",
        "Summary KPI cards show totals across all platforms",
        "Bar or line charts compare metrics across platforms",
        "Table lists all logged entries with platform, date, and key stats",
        "Date range and platform filters are functional"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Extend the backend to accept and store incoming webhook payloads from external tools. Add a receiveExternalWebhook(toolName: Text, payload: Text, source: Text) function that stores the entry with a timestamp and auto-incremented ID. Also add a getExternalWebhookLogs and clearExternalWebhookLogs function. These are separate from the existing internal webhook logs.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A webhook receiver that accepts data pushed from external tools"
        ]
      },
      "acceptanceCriteria": [
        "receiveExternalWebhook function accepts toolName, payload, and source as text",
        "Each received webhook is stored with timestamp and unique ID",
        "getExternalWebhookLogs returns all stored external webhook entries",
        "clearExternalWebhookLogs clears all stored external entries",
        "Existing backend logic is not modified"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Create an External Webhook Receiver page (route: /external-webhooks) that displays all incoming external webhook payloads logged in the backend. Show a table with columns: ID, Tool/Source name, timestamp, payload preview (truncated), and full payload expand toggle. Include refresh and clear buttons. Display the app's canister endpoint URL as the webhook receiver address users should configure in external tools.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "A webhook receiver that accepts data pushed from external tools"
        ]
      },
      "acceptanceCriteria": [
        "Page is accessible via /external-webhooks route",
        "Table lists all received external webhook entries",
        "Each row shows tool name, timestamp, truncated payload with an expand toggle",
        "Refresh button reloads the log from the backend",
        "Clear button removes all external webhook log entries",
        "The canister/app endpoint URL is displayed prominently as the receiver address"
      ]
    },
    {
      "id": "REQ-8",
      "text": "Create an External Tools & Integrations reference page (route: /external-tools) that lists recommended external automation and social media management tools. Include cards for: Zapier, Make (Integromat), n8n, Buffer, Hootsuite, and Later. Each card should show the tool name, a short description, key use case, and a link to the tool's website. Add a section explaining how to connect these tools to the app's webhook receiver.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ],
        "quotes": [
          "add external"
        ]
      },
      "acceptanceCriteria": [
        "Page is accessible via /external-tools route",
        "At least 6 tool cards are displayed (Zapier, Make, n8n, Buffer, Hootsuite, Later)",
        "Each card includes tool name, description, use case, and external link",
        "A how-to-connect section explains configuring tools to POST to the webhook receiver",
        "External links open in a new tab"
      ]
    },
    {
      "id": "REQ-9",
      "text": "Add the four new pages (Social Scheduler, Content Calendar, Social Metrics Dashboard, External Webhooks, External Tools) to the AppSidebar navigation under a new 'Social Media' group, and register all new routes in App.tsx. Do not remove or reorder any existing sidebar items or routes.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8"
        ]
      },
      "acceptanceCriteria": [
        "A 'Social Media' group appears in the sidebar with links to all five new pages",
        "All five new routes are registered and render the correct page components",
        "Existing sidebar groups and routes remain unchanged",
        "Active route highlighting works on all new links"
      ]
    }
  ],
  "constraints": [
    "Do not modify, remove, or reorder any existing pages, routes, backend functions, or sidebar items",
    "Do not alter existing data models (Lead, Service) or their CRUD functions",
    "Do not change frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or any file under frontend/src/components/ui",
    "All new backend state must be stored in separate stable maps, isolated from existing lead and service maps",
    "Use Recharts for any new charts, consistent with the existing AnalyticsEnginePage pattern",
    "Maintain the existing dark teal visual theme defined in frontend/src/index.css"
  ],
  "nonGoals": [
    "Direct integration with any social media platform APIs (Twitter/X, Instagram, Facebook, LinkedIn, TikTok, YouTube)",
    "Real-time data streaming or WebSocket connections",
    "OAuth authentication with external platforms",
    "Automated posting to social media platforms",
    "Modifying the existing Webhook Logs page or its underlying logger utility",
    "Changing any existing page layouts, charts, or data structures"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}